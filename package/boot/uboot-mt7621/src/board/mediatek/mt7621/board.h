#ifndef BOARD_MT7621_H
#define BOARD_MT7621_H

#include <configs/mt7621.h>

#define SYSCTL_BASE 0xBE000000
#define SYSCTL_SIZE 0x100

/* GPIO purpose/mode selection */
#define SYSCTL_GPIO_MODE      SYSCTL_BASE + 0x60
#define SYSCTL_GPIO_MODE_SIZE 0x4

#define SYSCTL_GPIO_MODE_ESWINT_MASK 0x00100000
#define SYSCTL_GPIO_MODE_SDXC_MASK   0x000C0000
#define SYSCTL_GPIO_MODE_SPI_MASK    0x00030000
#define SYSCTL_GPIO_MODE_RGMI2_MASK  0x00008000
#define SYSCTL_GPIO_MODE_RGMI1_MASK  0x00004000
#define SYSCTL_GPIO_MODE_MDIO_MASK   0x00003000
#define SYSCTL_GPIO_MODE_PERST_MASK  0x00000C00
#define SYSCTL_GPIO_MODE_WDT_MASK    0x00000300
#define SYSCTL_GPIO_MODE_JTAG_MASK   0x00000080
#define SYSCTL_GPIO_MODE_UART2_MASK  0x00000060
#define SYSCTL_GPIO_MODE_UART3_MASK  0x00000018
#define SYSCTL_GPIO_MODE_I2C_MASK    0x00000004
#define SYSCTL_GPIO_MODE_UART1_MASK  0x00000002

#define SYSCTL_GPIO_MODE_GPIO_FUNC_MASK 0x0015D5AE

/* GPIO registers */
#define GPIO_BASE SYSCTL_BASE + 0x600
#define GPIO_SIZE 0x100

#define SHIFTREG_ANIMATION_TIME_STEP 500LL
#define SHIFTREG_BLINK_TIME_STEP     100LL
#define SHIFTREG_TIME_UNIT	     1 /* 1 usec */
#define SHIFTREG_CLK		     9
#define SHIFTREG_LATCH		     11
#define SHIFTREG_DATA		     5
#define RST_BTN			     10

/* LED Shift Register Configuration */

/* RUTM 08 */

#define RUTM08_SR_ETH_LEDS 0xFF000000LL
#define RUTM08_GP_SHIFT_OE 15

/* RUTM 09 */

#define RUTM09_SR_2G_LED      0x00800000LL
#define RUTM09_SR_3G_LED      0x00400000LL
#define RUTM09_SR_4G_LED      0x00200000LL
#define RUTM09_SR_SSID_1_LED  0x00100000LL
#define RUTM09_SR_SSID_2_LED  0x00080000LL
#define RUTM09_SR_SSID_3_LED  0x00040000LL
#define RUTM09_SR_SSID_4_LED  0x00020000LL
#define RUTM09_SR_SSID_5_LED  0x00010000LL
#define RUTM09_SR_ALL_LED_ON  0x00FF0E00LL
#define RUTM09_SR_ALL_LED_OFF 0x00000000LL
#define RUTM09_SR_ETH_LEDS    0xFF000000LL

#define RUTM09_GP_SIM1_LED    0x20000000000LL
#define RUTM09_GP_SIM2_LED    0x80000000000LL
#define RUTM09_GP_WAN_ETH_LED 0x40000000000LL
#define RUTM09_GP_ALL_LEDS    0xE0000000000LL
#define RUTM09_GP_SHIFT_OE    15

/* RUTM 10 */

#define RUTM10_GP_WIFI_24_LED 0x40LL
#define RUTM10_GP_WIFI_5_LED  0x80LL
#define RUTM10_GP_ALL_LEDS    0xC0LL
#define RUTM10_SR_ETH_LEDS    0xFF000000LL
#define RUTM10_GP_SHIFT_OE    15

/* RUTM 11 */

#define RUTM11_SR_2G_LED      0x00800000LL
#define RUTM11_SR_3G_LED      0x00400000LL
#define RUTM11_SR_4G_LED      0x00200000LL
#define RUTM11_SR_SSID_1_LED  0x00100000LL
#define RUTM11_SR_SSID_2_LED  0x00080000LL
#define RUTM11_SR_SSID_3_LED  0x00040000LL
#define RUTM11_SR_SSID_4_LED  0x00020000LL
#define RUTM11_SR_SSID_5_LED  0x00010000LL
#define RUTM11_SR_ALL_LED_ON  0x00FF0E00LL
#define RUTM11_SR_ALL_LED_OFF 0x00000000LL
#define RUTM11_SR_ETH_LEDS    0xFF000000LL

#define RUTM11_GP_SIM1_LED	       0x20000000000LL
#define RUTM11_GP_SIM2_LED	       0x80000000000LL
#define RUTM11_GP_WAN_WIFI_WIFI_24_LED 0x40000000040LL
#define RUTM11_GP_WAN_ETH_WIFI_5_LED   0x200000000080LL
#define RUTM11_GP_ALL_LEDS	       0x2E00000000C0LL
#define RUTM11_GP_SHIFT_OE         15

/* RUTM12 */

#define RUTM12_GP_SIM1_LED	       0x20000000000LL
#define RUTM12_GP_SIM2_LED	       0x80000000000LL
#define RUTM12_SR_WAN_WIFI_LED         0x10000LL
#define RUTM12_GP_WAN_WIFI_24_LED      0x40LL
#define RUTM12_GP_WAN_WIFI_50_LED      0x80LL
#define RUTM12_GP_WAN_ETH_LED          0x200000000000LL
#define RUTM12_GP_3G_1_LED	       0x40000LL
#define RUTM12_GP_4G_1_LED	       0x10000LL
#define RUTM12_GP_SSID_1_1_LED	       0x800000000000LL
#define RUTM12_GP_SSID_2_1_LED	       0x1000000000000LL
#define RUTM12_GP_SSID_3_1_LED	       0x400000000000LL
#define RUTM12_SR_3G_2_LED	       0x10000000LL
#define RUTM12_SR_4G_2_LED	       0x08000000LL
#define RUTM12_SR_SSID_1_2_LED	       0x80000000LL
#define RUTM12_SR_SSID_2_2_LED	       0x40000000LL
#define RUTM12_SR_SSID_3_2_LED	       0x20000000LL
#define RUTM12_SR_ALL_LED_ON	       0xf8010000LL
#define RUTM12_SR_ALL_LED_OFF	       0x00000000LL
#define RUTM12_SR_ETH_LEDS	       0x07C00000LL
#define RUTM12_GP_ALL_LEDS	       0x1EE00000500C0LL

/* RUTM13 */

#define RUTM13_SR_VDSL_LED    0x00800000LL
#define RUTM13_SR_3G_LED      0x00400000LL
#define RUTM13_SR_4G_LED      0x00200000LL
#define RUTM13_SR_SSID_1_LED  0x00100000LL
#define RUTM13_SR_SSID_2_LED  0x00080000LL
#define RUTM13_SR_SSID_3_LED  0x00040000LL
#define RUTM13_SR_SSID_4_LED  0x00020000LL
#define RUTM13_SR_SSID_5_LED  0x00010000LL
#define RUTM13_SR_ALL_LED_ON  0x00FF0E00LL
#define RUTM13_SR_ALL_LED_OFF 0x00000000LL
#define RUTM13_SR_ETH_LEDS    0xFF000000LL

#define RUTM13_GP_SIM1_LED	       0x20000000000LL
#define RUTM13_GP_SIM2_LED	       0x100000000000LL
#define RUTM13_GP_WAN_WIFI_WIFI_24_LED 0x40000000040LL
#define RUTM13_GP_WAN_ETH_WIFI_5_LED   0x200000000080LL
#define RUTM13_GP_ALL_LEDS	       0x3600000000C0LL

#define RUTM13_GP_SHIFT_OE 12

/* RUTM14 INCORRECT */

#define RUTM14_SR_SIM1_LED	       0x00020000LL
#define RUTM14_SR_SIM2_LED	       0x00010000LL
#define RUTM14_SR_WAN_WIFI_WIFI_24_LED 0x02080000LL
#define RUTM14_SR_WAN_ETH_WIFI_5_LED   0x01040000LL
#define RUTM14_SR_3G_LED	       0x04000000LL
#define RUTM14_SR_4G_LED	       0x08000000LL
#define RUTM14_SR_SSID_1_LED	       0x80000000LL
#define RUTM14_SR_SSID_2_LED	       0x40000000LL
#define RUTM14_SR_SSID_3_LED	       0x20000000LL
#define RUTM14_SR_ALL_LED_ON	       0xEF0F0000LL
#define RUTM14_SR_ALL_LED_OFF	       0x00000001LL

/* RUTMR1 INCORRECT */

#define RUTMR1_SIM1_LED	   0x08000000LL
#define RUTMR1_SIM2_LED	   0x04000000LL
#define RUTMR1_SSID_1_LED  0x00800000LL
#define RUTMR1_SSID_2_LED  0x00400000LL
#define RUTMR1_SSID_3_LED  0x00200000LL
#define RUTMR1_3G_4G_LED   0x03000000LL
#define RUTMR1_ETH_MOB_LED 0x80100000LL
#define RUTMR1_ALL_LED_ON  0x1FF00000LL
#define RUTMR1_ALL_LED_OFF 0x10000000LL

/* RUTM20 */

#define RUTM20_GP_GEN_RD_LED  0x1000LL
#define RUTM20_GP_GEN_GR_LED  0x100LL
#define RUTM20_GP_GEN_BL_LED  0x80LL
#define RUTM20_GP_SSID_RD_LED 0x0400000000000LL
#define RUTM20_GP_SSID_GR_LED 0x1000000000000LL
#define RUTM20_GP_SSID_BL_LED 0x0800000000000LL
#define RUTM20_GP_ALL_LEDS    0x1C00000001180LL
#define RUTM20_GP_ETH_LEDS    0x02E0000000000LL
#define RUTM20_GP_INV_LEDS    0x1C00000001180LL

/* RUTM30 */

#define RUTM30_GP_GEN_RD_LED  0x1000LL
#define RUTM30_GP_GEN_GR_LED  0x100LL
#define RUTM30_GP_GEN_BL_LED  0x80LL
#define RUTM30_GP_SSID_RD_LED 0x0400000000000LL
#define RUTM30_GP_SSID_GR_LED 0x1000000000000LL
#define RUTM30_GP_SSID_BL_LED 0x0800000000000LL
#define RUTM30_GP_ALL_LEDS    0x1C00000001180LL
#define RUTM30_GP_ETH_LEDS    0x02E0000000000LL
#define RUTM30_GP_INV_LEDS    0x1C00000001180LL

/* RUTM50/RUTM51 */

#define RUTM50_GP_SIM1_LED     0x020000000000LL
#define RUTM50_GP_SIM2_LED     0x080000000000LL
#define RUTM50_GP_WAN_WIFI_LED 0x040000000000LL
#define RUTM50_GP_WAN_ETH_LED  0x200000000000LL
#define RUTM50_GP_3G_LED       0x10000LL
#define RUTM50_GP_4G_LED       0x8000LL
#define RUTM50_GP_5G_LED       0x2000LL
#define RUTM50_GP_SSID_1_LED   0x0800000000000LL
#define RUTM50_GP_SSID_2_LED   0x1000000000000LL
#define RUTM50_GP_SSID_3_LED   0x0400000000000LL
#define RUTM50_GP_ALL_LEDS     0x1EE000001A000LL
#define RUTM50_SR_WIFI_5_LEDS  0x00100000LL
#define RUTM50_SR_WIFI_24_LEDS 0x00200000LL
#define RUTM50_SR_ALL_LED_ON   0x00300000LL
#define RUTM50_SR_ALL_LED_OFF  0x00000000LL
#define RUTM50_SR_ETH_LEDS     0xFFC00000LL
#define RUTM50_SR_INV_LEDS     0x10800000LL
/* RUTM50 BRANCH A */
#define RUTM50_BR_A_SR_INV_LEDS     0x00000000LL

#define RUTM50_GP_SHIFT_OE 44

/* RUTM52 */

#define RUTM52_SR_SIM1_LED     0x40LL
#define RUTM52_SR_SIM2_LED     0x20LL
#define RUTM52_SR_WAN_WIFI_LED 0x10LL
#define RUTM52_SR_WAN_ETH_LED  0x8L
#define RUTM52_GP_WIFI_24_LEDS 0x2000LL
#define RUTM52_GP_WIFI_50_LEDS 0x20000LL
#define RUTM52_SR_3G_1_LED     0x100LL
#define RUTM52_SR_4G_1_LED     0x200LL
#define RUTM52_SR_5G_1_LED     0x400LL
#define RUTM52_SR_SSID_1_1_LED 0x2000LL
#define RUTM52_SR_SSID_2_1_LED 0x4000LL
#define RUTM52_SR_SSID_3_1_LED 0x8000LL
#define RUTM52_SR_3G_2_LED     0x10000LL
#define RUTM52_SR_4G_2_LED     0x20000LL
#define RUTM52_SR_5G_2_LED     0x40000LL
#define RUTM52_SR_SSID_1_2_LED 0x200000LL
#define RUTM52_SR_SSID_2_2_LED 0x400000LL
#define RUTM52_SR_SSID_3_2_LED 0x800000LL
#define RUTM52_GP_ALL_LEDS     0x22000LL
#define RUTM52_SR_ALL_LED_ON   0xE7E778LL
#define RUTM52_SR_ALL_LED_OFF  0x000000LL
#define RUTM52_SR_ETH_LEDS     0xFF000000LL
#define RUTM52_SR_INV_LEDS     0x11000000LL

#define RUTM52_GP_SHIFT_OE 14

/* RUTM54 */

#define RUTM54_GP_SIM1_LED      0x20000000000LL
#define RUTM54_GP_SIM2_LED      0x80000000000LL
#define RUTM54_GP_WAN_WIFI_LED  0x40000000000LL
#define RUTM54_GP_WAN_ETH_LED   0x200000000000LL
#define RUTM54_SR_WIFI_24_LEDS  0x200000LL
#define RUTM54_SR_WIFI_50_LEDS  0x100000LL
#define RUTM54_GP_3G_LED        0x10000LL
#define RUTM54_GP_4G_LED        0x8000LL
#define RUTM54_GP_5G_LED        0x2000LL
#define RUTM54_GP_SSID_1_LED    0x800000000000LL
#define RUTM54_GP_SSID_2_LED    0x1000000000000LL
#define RUTM54_GP_SSID_3_LED    0x400000000000LL
#define RUTM54_GP_ALL_LEDS      0x1EE000001A000LL
#define RUTM54_SR_ALL_LED_ON    0xEF700000LL
#define RUTM54_SR_ALL_LED_OFF   0xEF400000LL
#define RUTM54_SR_ETH_LEDS      0xEF400000LL

#define RUTM54_GP_SHIFT_OE      44

/* RUTM55 */

#define RUTM55_SR_3G_LED       0x400000LL
#define RUTM55_SR_4G_LED       0x200000LL
#define RUTM55_SR_5G_LED       0x100000LL
#define RUTM55_SR_SSID_1_LED   0x80000LL
#define RUTM55_SR_SSID_2_LED   0x40000LL
#define RUTM55_SR_SSID_3_LED   0x20000LL
#define RUTM55_SR_ALL_LED_ON   0xFF7E0000LL
#define RUTM55_SR_ALL_LED_OFF  0x00000000LL
#define RUTM55_SR_ETH_LEDS     0xFF000000LL

#define RUTM55_GP_SHIFT_OE    44
#define RUTM55_SHIFTREG_CLK   9
#define RUTM55_SHIFTREG_DATA  13
#define RUTM55_SHIFTREG_LATCH 45

/* RUTM56 */

#define RUTM56_SR_SIM1_LED     0x40LL
#define RUTM56_SR_SIM2_LED     0x20LL
#define RUTM56_SR_WAN_WIFI_LED 0x10LL
#define RUTM56_SR_WAN_ETH_LED  0x8LL
#define RUTM56_GP_WIFI_24_LEDS 0x2000LL
#define RUTM56_GP_WIFI_50_LEDS 0x20000LL
#define RUTM56_SR_3G_1_LED     0x100LL
#define RUTM56_SR_4G_1_LED     0x200LL
#define RUTM56_SR_5G_1_LED     0x400LL
#define RUTM56_SR_SSID_1_1_LED 0x2000LL
#define RUTM56_SR_SSID_2_1_LED 0x4000LL
#define RUTM56_SR_SSID_3_1_LED 0x8000LL
#define RUTM56_SR_2G_2_LED     0x10000LL
#define RUTM56_SR_3G_2_LED     0x20000LL
#define RUTM56_SR_4G_2_LED     0x40000LL
#define RUTM56_SR_SSID_1_2_LED 0x200000LL
#define RUTM56_SR_SSID_2_2_LED 0x400000LL
#define RUTM56_SR_SSID_3_2_LED 0x800000LL

#define RUTM56_GP_ALL_LEDS     0x22000LL
#define RUTM56_SR_ALL_LED_ON   0xE7E778LL
#define RUTM56_SR_ALL_LED_OFF  0x000000LL
#define RUTM56_GP_ETH_LEDS     0x18000LL
#define RUTM56_SR_ETH_LEDS     0xFF000000LL
#define RUTM56_SR_INV_LEDS     0x18000000LL

#define RUTM56_GP_TPM_RESET 14

/* RUTM59 */

#define RUTM59_GP_SIM1_LED     0x020000000000LL
#define RUTM59_GP_SIM2_LED     0x080000000000LL
#define RUTM59_GP_WAN_ETH_LED  0x040000000000LL
#define RUTM59_GP_3G_LED       0x10000LL
#define RUTM59_GP_4G_LED       0x8000LL
#define RUTM59_GP_5G_LED       0x2000LL
#define RUTM59_GP_SSID_1_LED   0x0800000000000LL
#define RUTM59_GP_SSID_2_LED   0x1000000000000LL
#define RUTM59_GP_SSID_3_LED   0x0400000000000LL
#define RUTM59_GP_ALL_LEDS     0x1CE000001A000LL
#define RUTM59_SR_ETH_LEDS     0xFFC00000LL
#define RUTM59_SR_INV_LEDS     0x00000000LL

#define RUTM59_GP_SHIFT_OE 44

/* ATRM50 */

#define ATRM50_SR_SIM1_LED     0x1000LL
#define ATRM50_SR_SIM2_LED     0x800LL
#define ATRM50_SR_WAN_WIFI_LED 0x800000LL
#define ATRM50_SR_WAN_ETH_LED  0x400000LL

#define ATRM50_SR_3G_LED       0x200000LL
#define ATRM50_SR_4G_LED       0x100000LL
#define ATRM50_SR_5G_LED       0x80000LL

#define ATRM50_SR_SSID_1_LED   0x40000LL
#define ATRM50_SR_SSID_2_LED   0x20000LL
#define ATRM50_SR_SSID_3_LED   0x10000LL

#define ATRM50_SR_WIFI_5_LEDS  0x2000LL
#define ATRM50_SR_WIFI_24_LEDS 0x4000LL
#define ATRM50_SR_ALL_LED_ON   0xFF7800LL
#define ATRM50_SR_ALL_LED_OFF  0x000000LL
#define ATRM50_SR_ETH_LEDS     0xFF000000LL
#define ATRM50_SR_INV_LEDS     0x30000000LL

#define ATRM50_GP_SHIFT_OE     16
#define ATRM50_SHIFTREG_LATCH  15
#define ATRM50_WD_CLK          11

#define ATRM50_GP_TPM_RESET 18

/* OTD500 */

#define OTD500_GP_3G_LED       0x80000000000LL
#define OTD500_GP_4G_LED       0x20000000000LL
#define OTD500_GP_5G_LED       0x100000000000LL
#define OTD500_GP_SSID_1_LED   0x200000000000LL
#define OTD500_GP_SSID_2_LED   0x400000000000LL
#define OTD500_GP_SSID_3_LED   0x800000000000LL
#define OTD500_GP_ALL_LEDS     0xFA0000000000LL

/* TAP200 */

#define TAP200_GP_POWER_LED  0x8000LL
#define TAP200_GP_GREEN_LED  0x80LL
#define TAP200_GP_YELLOW_LED 0x100LL
#define TAP200_GP_ETH_LEDS   0x180LL
#define TAP200_GP_ALL_LEDS   0x8180LL

/* Helper defines */

#define ARRAY_MAX_LED_COUNT 16
#define ARRAYSIZE(x)	    (sizeof(x) / sizeof(x[0]))
#define MT7621_REG(x)	    (*((volatile u32 *)(x)))

void init_gpio_modes(void);

void init_led_conf(void);

#endif
